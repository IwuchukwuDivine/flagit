import{j as h,o as n,k as g,w as y,a as t,c as a,l as w,t as c,b as f,m as i,d as u,e as b,n as _,p as v,q as C,F as N,r as $}from"./D_3oTGCv.js";import{_ as j,r as B}from"./B-3I4pWJ.js";const L={class:"flex flex-col md:flex-row gap-4"},V={key:0,class:"md:w-1/3"},z=["src","alt"],M={class:"flex-1"},F={class:"flex items-start justify-between gap-4 mb-2"},A={class:"text-xl font-semibold text-gray-900 flex-1"},H={class:"text-gray-600 mb-4"},S={class:"flex items-center justify-between text-sm text-gray-500"},T={class:"flex items-center gap-4"},U={class:"flex items-center gap-1"},q={class:"flex items-center gap-1"},D=h({__name:"ComplaintCard",props:{complaint:{}},setup(e){const s=e,d=_(()=>s.complaint.body.length>150?s.complaint.body.substring(0,150)+"...":s.complaint.body),l=_(()=>B(s.complaint.createdAt));return(m,r)=>{const o=j,p=b;return n(),g(p,{to:`/complaints/${e.complaint.id}`,class:"block bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6"},{default:y(()=>[t("div",L,[e.complaint.imageUrl?(n(),a("div",V,[t("img",{src:e.complaint.imageUrl,alt:e.complaint.title,class:"w-full h-48 object-cover rounded-lg"},null,8,z)])):w("",!0),t("div",M,[t("div",F,[t("h3",A,c(e.complaint.title),1),f(o,{category:e.complaint.category},null,8,["category"])]),t("p",H,c(i(d)),1),t("div",S,[t("div",T,[t("span",U,[r[0]||(r[0]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),u(" "+c(e.complaint.authorName),1)]),t("span",q,[r[1]||(r[1]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),u(" "+c(e.complaint.location),1)])]),t("span",null,c(i(l)),1)])])])]),_:1},8,["to"])}}}),E=Object.assign(D,{__name:"ComplaintCard"}),G={class:"min-h-screen"},K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},O={key:0,class:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg"},P={key:1,class:"text-center py-12"},I={class:"mt-6"},J={key:2,class:"space-y-6"},W=h({__name:"index",async setup(e){let s,d;const{data:l,error:m}=([s,d]=v(()=>C("/api/complaints","$NNVdHhouK7")),s=await s,d(),s);return(r,o)=>{const p=b,k=E;return n(),a("div",G,[t("main",K,[i(m)?(n(),a("div",O," Failed to load complaints. Please try again later. ")):!i(l)||i(l).length===0?(n(),a("div",P,[o[1]||(o[1]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),o[2]||(o[2]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No complaints yet",-1)),o[3]||(o[3]=t("p",{class:"mt-1 text-sm text-gray-500"}," Get started by submitting the first complaint. ",-1)),t("div",I,[f(p,{to:"/submit",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"},{default:y(()=>[...o[0]||(o[0]=[u(" Submit Complaint ",-1)])]),_:1})])])):(n(),a("div",J,[(n(!0),a(N,null,$(i(l),x=>(n(),g(k,{key:x.id,complaint:x},null,8,["complaint"]))),128))]))])])}}});export{W as default};
