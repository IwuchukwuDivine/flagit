import{_ as f}from"./CxXxvqG7.js";import{_ as k,r as v,u as C}from"./CHQtAE7W.js";import{g as y,o as n,j as b,w as x,a as t,c as a,k as $,t as d,b as _,l as i,d as p,m as h,n as j,F as N,r as B}from"./B412Jlrp.js";const L={class:"flex flex-col md:flex-row gap-4"},V={key:0,class:"md:w-1/3"},z=["src","alt"],M={class:"flex-1"},F={class:"flex items-start justify-between gap-4 mb-2"},S={class:"text-xl font-semibold text-gray-900 flex-1"},A={class:"text-gray-600 mb-4"},U={class:"flex items-center justify-between text-sm text-gray-500"},H={class:"flex items-center gap-4"},T={class:"flex items-center gap-1"},D={class:"flex items-center gap-1"},E=y({__name:"ComplaintCard",props:{complaint:{}},setup(s){const o=s,c=h(()=>o.complaint.body.length>150?o.complaint.body.substring(0,150)+"...":o.complaint.body),l=h(()=>v(o.complaint.createdAt));return(u,r)=>{const e=k,m=f;return n(),b(m,{to:`/complaints/${s.complaint.id}`,class:"block bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow p-6"},{default:x(()=>[t("div",L,[s.complaint.imageUrl?(n(),a("div",V,[t("img",{src:s.complaint.imageUrl,alt:s.complaint.title,class:"w-full h-48 object-cover rounded-lg"},null,8,z)])):$("",!0),t("div",M,[t("div",F,[t("h3",S,d(s.complaint.title),1),_(e,{category:s.complaint.category},null,8,["category"])]),t("p",A,d(i(c)),1),t("div",U,[t("div",H,[t("span",T,[r[0]||(r[0]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),p(" "+d(s.complaint.authorName),1)]),t("span",D,[r[1]||(r[1]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),p(" "+d(s.complaint.location),1)])]),t("span",null,d(i(l)),1)])])])]),_:1},8,["to"])}}}),G=Object.assign(E,{__name:"ComplaintCard"}),K={class:"min-h-screen"},O={class:"bg-white shadow-sm"},P={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},q={class:"flex items-center justify-between"},I={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},J={key:0,class:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg"},Q={key:1,class:"text-center py-12"},R={class:"mt-6"},W={key:2,class:"space-y-6"},tt=y({__name:"index",async setup(s){let o,c;const{data:l,error:u}=([o,c]=j(()=>C("/api/complaints","$NNVdHhouK7")),o=await o,c(),o);return(r,e)=>{const m=f,w=G;return n(),a("div",K,[t("header",O,[t("div",P,[t("div",q,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Speak Up"),t("p",{class:"text-gray-600 mt-1"},"Civic complaints platform")],-1)),_(m,{to:"/submit",class:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors"},{default:x(()=>[...e[0]||(e[0]=[p(" Submit Complaint ",-1)])]),_:1})])])]),t("main",I,[i(u)?(n(),a("div",J," Failed to load complaints. Please try again later. ")):!i(l)||i(l).length===0?(n(),a("div",Q,[e[3]||(e[3]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e[4]||(e[4]=t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No complaints yet",-1)),e[5]||(e[5]=t("p",{class:"mt-1 text-sm text-gray-500"}," Get started by submitting the first complaint. ",-1)),t("div",R,[_(m,{to:"/submit",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"},{default:x(()=>[...e[2]||(e[2]=[p(" Submit Complaint ",-1)])]),_:1})])])):(n(),a("div",W,[(n(!0),a(N,null,B(i(l),g=>(n(),b(w,{key:g.id,complaint:g},null,8,["complaint"]))),128))]))])])}}});export{tt as default};
