import{_ as v}from"./Ce8Rj96Y.js";import{g as w,c as u,a as t,y as _,q as m,v as c,l as s,B as f,t as p,k as h,d as g,b as k,w as L,p as r,o as b,A as V}from"./CCdD_pZz.js";const N={class:"min-h-screen bg-gray-50 flex items-center justify-center px-4"},B={class:"max-w-md w-full bg-white rounded-lg shadow-md p-8"},T={key:0,class:"text-red-600 text-sm"},q=["disabled"],C={class:"mt-4 text-center"},D={class:"text-sm text-gray-600"},I=w({__name:"login",setup(P){const o=r(""),a=r(""),l=r(""),n=r(!1);async function x(){l.value="",n.value=!0;try{await $fetch("/api/auth/login",{method:"POST",body:{email:o.value,password:a.value}})&&await V("/")}catch(i){l.value=i.data?.message||"Login failed. Please check your credentials."}finally{n.value=!1}}return(i,e)=>{const y=v;return b(),u("div",N,[t("div",B,[e[6]||(e[6]=t("h1",{class:"text-2xl font-bold text-gray-900 mb-6"},"Log In",-1)),t("form",{onSubmit:_(x,["prevent"]),class:"space-y-4"},[t("div",null,[e[2]||(e[2]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"}," Email ",-1)),m(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=d=>f(o)?o.value=d:null),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[c,s(o)]])]),t("div",null,[e[3]||(e[3]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"}," Password ",-1)),m(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=d=>f(a)?a.value=d:null),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[c,s(a)]])]),s(l)?(b(),u("div",T,p(s(l)),1)):h("",!0),t("button",{type:"submit",disabled:s(n),class:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed"},p(s(n)?"Logging in...":"Log In"),9,q)],32),t("div",C,[t("p",D,[e[5]||(e[5]=g(" Don't have an account? ",-1)),k(y,{to:"/auth/register",class:"text-blue-600 hover:underline"},{default:L(()=>[...e[4]||(e[4]=[g(" Register ",-1)])]),_:1})])])])])}}});export{I as default};
