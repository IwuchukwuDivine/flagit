import{j as v,c as u,a as s,A as w,v as m,x as c,m as t,D as f,t as p,l as _,d as g,b as h,w as k,s as r,e as L,o as b,C as V}from"./D_3oTGCv.js";const N={class:"min-h-screen bg-gray-50 flex items-center justify-center px-4"},C={class:"max-w-md w-full bg-white rounded-lg shadow-md p-8"},D={key:0,class:"text-red-600 text-sm"},T=["disabled"],B={class:"mt-4 text-center"},P={class:"text-sm text-gray-600"},q=v({__name:"login",setup(S){const o=r(""),a=r(""),l=r(""),n=r(!1);async function x(){l.value="",n.value=!0;try{await $fetch("/api/auth/login",{method:"POST",body:{email:o.value,password:a.value}})&&await V("/")}catch(i){l.value=i.data?.message||"Login failed. Please check your credentials."}finally{n.value=!1}}return(i,e)=>{const y=L;return b(),u("div",N,[s("div",C,[e[6]||(e[6]=s("h1",{class:"text-2xl font-bold text-gray-900 mb-6"},"Log In",-1)),s("form",{onSubmit:w(x,["prevent"]),class:"space-y-4"},[s("div",null,[e[2]||(e[2]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"}," Email ",-1)),m(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=d=>f(o)?o.value=d:null),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[c,t(o)]])]),s("div",null,[e[3]||(e[3]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"}," Password ",-1)),m(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=d=>f(a)?a.value=d:null),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[c,t(a)]])]),t(l)?(b(),u("div",D,p(t(l)),1)):_("",!0),s("button",{type:"submit",disabled:t(n),class:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed"},p(t(n)?"Logging in...":"Log In"),9,T)],32),s("div",B,[s("p",P,[e[5]||(e[5]=g(" Don't have an account? ",-1)),h(y,{to:"/auth/register",class:"text-blue-600 hover:underline"},{default:k(()=>[...e[4]||(e[4]=[g(" Register ",-1)])]),_:1})])])])])}}});export{q as default};
